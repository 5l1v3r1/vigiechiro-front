<!-- drop zone -->
<div class="drop row"
     uploader="uploader">
  <input type="file"
         class="hidden"
         uploader="uploader"
         multiple>
  <center>
    <div><strong>Cliquez ou déposez vos fichiers ici</strong></div>
    <div>
      Le dépôt de dossier fonctionne sous Chrome uniquement
    </div>
    <div class="label label-warning">
      Si rien ne passe lorsque vous sélectionnez les fichiers puis confirmez, utilisez le glisser/déposer.
    </div>
  </center>
</div>

<!-- drop zone error -->
<div class="alert alert-danger" ng-show="dropError.length">
  <div ng-repeat="error in dropError">{{error}}</div>
</div>

<!-- abstract -->
<div class="well" ng-show="uploader.status == 'active'">
  <div class="row">
    <div class="col-xs-6">
      Nombre de fichiers dans la queue : {{uploader.queuedFiles.length}}
    </div>
    <div class="col-xs-6">
      Vitesse d'upload : {{uploader.speed/1024 | number: 1}} ko/s
    </div>
  </div>
  <!-- upload bar -->
  <div class="row">
    <!-- global progress bar -->
    <div class="col-xs-10 progress">
      <!-- uploaded -->
      <div class="progress-bar progress-bar-success"
           style="width: {{uploader.itemsUploaded.length/uploader.itemsWaitingUploadLength*100}}%">
        {{uploader.itemsUploaded.length}}
      </div>
      <!-- waiting -->
      <div class="progress-bar progress-bar-warning progress-bar-striped active"
           style="width: {{(uploader.itemsWaitingUpload.length+uploader.itemsUploading.length)/uploader.itemsWaitingUploadLength*100}}%">
        {{uploader.itemsWaitingUpload.length + uploader.itemsUploading.length}}
      </div>
      <!-- errors -->
      <div class="progress-bar progress-bar-danger"
           style="width: {{(uploader.warningFiles.length + uploader.errorFiles.length)/uploader.itemsWaitingUploadLength*100}}%">
        {{uploader.warningFiles.length + uploader.errorFiles.length}}
      </div>
    </div>
    <div class="col-xs-2"></div>
  </div>
</div>

<div>
  <button class="btn btn-primary btn-xs" type="button" ng-click="uploader.startAll()"
          ng-show="uploader.status == 'pause'">
    Continuer
  </button>
  <button class="btn btn-warning btn-xs" type="button" ng-click="uploader.pauseAll()"
          ng-show="uploader.status != 'pause' && (uploader.itemsWaiting.length || uploader.itemsReadyToCompress.length || uploader.itemsCompressing || uploader.itemsReadyToUp.length || uploader.itemsUploading.length)">
    Pause
  </button>
  <button class="btn btn-danger btn-xs" type="button" ng-click="uploader.cancelAll()"
          ng-show="uploader.itemsTotal">
    Tout annuler
  </button>
</div>

<div>
  <div class="alert alert-warning" ng-show="uploader.warningFiles.length">
    <div><strong>{{uploader.warningFiles.length}}</strong></div>
    <div ng-repeat="file in uploader.warningFiles">
      {{file.message}}
    </div>
  </div>

  <div class="alert alert-danger" ng-show="uploader.errorFiles.length">
    <div><strong>{{uploader.errorFiles.length}}</strong></div>
    <div ng-repeat="file in uploader.errorFiles">
      {{file.message}}
    </div>
  </div>
</div>
